Total Logins

SELECT to_char(modify_date,'MM/YYYY'), to_char(modify_date,'MON-YYYY'), Count(ftuser_id) FROM audit_hist a, ftuser b, client_div c
WHERE a.ftuser_id=b.id AND b.client_div_id=c.id AND 
a.app_type='TSPD' AND a.ACTION='auditAction.login_succeeded' AND
c.client_div_identifier NOT IN ('FTS','FTD','MDT','FCS') AND
b.NAME NOT LIKE 'fasttrack%' AND b.email NOT LIKE '%mdsol.com%' AND b.email NOT LIKE '%fast-track.com%'
AND a.modify_date BETWEEN add_months(trunc(sysdate,'YYYY'),-12) AND  trunc(sysdate,'YYYY')
GROUP BY  to_char(modify_date,'MM/YYYY'), to_char(modify_date,'MON-YYYY')
ORDER BY 1

Unique Users

SELECT to_char(modify_date,'MM/YYYY'), Count(distinct b.email) FROM audit_hist a, ftuser b, client_div c
WHERE a.ftuser_id=b.id AND b.client_div_id=c.id AND 
a.app_type='TSPD' AND a.ACTION='auditAction.login_succeeded' AND
c.client_div_identifier NOT IN ('FTS','FTD','MDT','FCS') AND
b.NAME NOT LIKE 'fasttrack%' AND b.email NOT LIKE '%mdsol.com%' AND b.email NOT LIKE '%fast-track.com%'
AND a.modify_date BETWEEN add_months(trunc(sysdate,'YYYY'),-12) AND  trunc(sysdate,'YYYY')
GROUP BY  to_char(modify_date,'MM/YYYY')
ORDER BY 1

total trials created


SELECT to_char(modify_date,'MM/YYYY'), Count(ftuser_id) FROM audit_hist a, ftuser b, client_div c
WHERE a.ftuser_id=b.id AND b.client_div_id=c.id AND 
a.app_type='TSPD' AND a.ACTION='auditAction.trialCreated' AND
c.client_div_identifier NOT IN ('FTS','FTD','MDT','FCS') AND
b.NAME NOT LIKE 'fasttrack%' AND b.email NOT LIKE '%mdsol.com%' AND b.email NOT LIKE '%fast-track.com%'
AND a.modify_date BETWEEN add_months(trunc(sysdate,'YYYY'),-12) AND  trunc(sysdate,'YYYY')
GROUP BY  to_char(modify_date,'MM/YYYY')
ORDER BY 1
 
Unique Companies logged into the system

SELECT to_char(modify_date,'MM/YYYY'), Count(distinct substr(c.client_div_identifier,1,3)) FROM audit_hist a, ftuser b, client_div c
WHERE a.ftuser_id=b.id AND b.client_div_id=c.id AND 
a.app_type='TSPD' AND a.ACTION='auditAction.login_succeeded' AND
c.client_div_identifier NOT IN ('FTS','FTD','MDT','FCS') AND
b.NAME NOT LIKE 'fasttrack%' AND b.email NOT LIKE '%mdsol.com%' AND b.email NOT LIKE '%fast-track.com%'
AND a.modify_date BETWEEN add_months(trunc(sysdate,'YYYY'),-12) AND  trunc(sysdate,'YYYY')
GROUP BY  to_char(modify_date,'MM/YYYY')
ORDER BY 1