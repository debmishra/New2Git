create user tsm10t identified by welcome default tablespace
tsmsmall temporary tablespace temp;

create user ft15t identified by welcome default tablespace
ftsmall temporary tablespace temp;

create user ftcommon identified by welcome default tablespace
tsmsmall temporary tablespace temp;

grant connect,resource to tsm10t;

grant connect,resource to ft15t;

grant connect,resource to ftcommon;


-- Then copied the ft15,tsm10 schemas to ft15t,tsm10t schemas

conn ft15/welcome

grant select on ft15.ftuser to ftcommon;
grant select on ft15.ftgroup to ftcommon;
grant select on ft15.ftuser_to_ftgroup to ftcommon;

connft15t/welcome

grant select on ft15t.ftuser to ftcommon;
grant select on ft15t.ftuser_to_ftgroup to ftcommon;

conn ftcommon/welcome

create or replace view ftuser as select 
ID,NAME||'@tsm10' name ,PASSWORD,SITE_ID,STARTING_SCREEN,LAST_PASSWORD_UPDATE,
FIRST_NAME,LAST_NAME,LAST_LOGIN_DATE,PRIMARY_TA_ID,ADDRESS_LINE_1,
ADDRESS_LINE_2,CITY,STATE,POSTAL_CODE,COUNTRY,WORK_PHONE,
HOME_PHONE,FAX,MOBILE_PHONE,EMAIL,PREFERRED_CONTACT,TITLE,
CLIENT_ID,CLIENT_DIV_ID,DISPLAY_NAME,ACTIVE_TRACE_USER,
ACTIVE_TSM_USER,'tsm10' environment from ft15.ftuser
union all select 
ID,NAME||'@tsm10t' name,PASSWORD,SITE_ID,STARTING_SCREEN,LAST_PASSWORD_UPDATE,
FIRST_NAME,LAST_NAME,LAST_LOGIN_DATE,PRIMARY_TA_ID,ADDRESS_LINE_1,
ADDRESS_LINE_2,CITY,STATE,POSTAL_CODE,COUNTRY,WORK_PHONE,
HOME_PHONE,FAX,MOBILE_PHONE,EMAIL,PREFERRED_CONTACT,TITLE,
CLIENT_ID,CLIENT_DIV_ID,DISPLAY_NAME,ACTIVE_TRACE_USER,
ACTIVE_TSM_USER,'tsm10t' from ft15t.ftuser;

create or replace view ftgroup as select
id, name,'tsm10' environment from ft15.ftgroup
union all select 
id, name,'tsm10t' from ft15.ftgroup;


create or replace view ftuser_to_ftgroup as select
id,ftuser_id,ftgroup_id,'tsm10' environment from 
ft15.ftuser_to_ftgroup 
union all select
id,ftuser_id,ftgroup_id,'tsm10t' from 
ft15t.ftuser_to_ftgroup ;






       